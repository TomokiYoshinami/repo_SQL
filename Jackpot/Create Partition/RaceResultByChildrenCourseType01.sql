USE [Jackpot]
GO
BEGIN TRANSACTION
CREATE PARTITION FUNCTION [PF_Date2](datetime) AS RANGE RIGHT FOR VALUES (N'1986-01-01T00:00:00', N'1987-01-01T00:00:00', N'1988-01-01T00:00:00', N'1989-01-01T00:00:00', N'1990-01-01T00:00:00', N'1991-01-01T00:00:00', N'1992-01-01T00:00:00', N'1993-01-01T00:00:00', N'1994-01-01T00:00:00', N'1995-01-01T00:00:00', N'1996-01-01T00:00:00', N'1997-01-01T00:00:00', N'1998-01-01T00:00:00', N'1999-01-01T00:00:00', N'2000-01-01T00:00:00', N'2001-01-01T00:00:00', N'2002-01-01T00:00:00', N'2003-01-01T00:00:00', N'2004-01-01T00:00:00', N'2005-01-01T00:00:00', N'2006-01-01T00:00:00', N'2007-01-01T00:00:00', N'2008-01-01T00:00:00', N'2009-01-01T00:00:00', N'2010-01-01T00:00:00', N'2011-01-01T00:00:00', N'2012-01-01T00:00:00', N'2013-01-01T00:00:00', N'2014-01-01T00:00:00', N'2015-01-01T00:00:00', N'2016-01-01T00:00:00', N'2017-01-01T00:00:00', N'2018-01-01T00:00:00', N'2019-01-01T00:00:00', N'2020-01-01T00:00:00', N'2021-01-01T00:00:00', N'2022-01-01T00:00:00', N'2023-01-01T00:00:00', N'2024-01-01T00:00:00', N'2025-01-01T00:00:00', N'2026-01-01T00:00:00', N'2027-01-01T00:00:00', N'2028-01-01T00:00:00', N'2029-01-01T00:00:00', N'2030-01-01T00:00:00')


CREATE PARTITION SCHEME [PS_Date2] AS PARTITION [PF_Date2] TO ([FG1900], [FG1986], [FG1987], [FG1988], [FG1989], [FG1990], [FG1991], [FG1992], [FG1993], [FG1994], [FG1995], [FG1996], [FG1997], [FG1998], [FG1999], [FG2000], [FG2001], [FG2002], [FG2003], [FG2004], [FG2005], [FG2006], [FG2007], [FG2008], [FG2009], [FG2010], [FG2011], [FG2012], [FG2013], [FG2014], [FG2015], [FG2016], [FG2017], [FG2018], [FG2019], [FG2020], [FG2021], [FG2022], [FG2023], [FG2024], [FG2025], [FG2026], [FG2027], [FG2028], [FG2029], [FG2030])






ALTER TABLE [dbo].[RaceResultByChildrenCourseType01] DROP CONSTRAINT [PK_RaceResultByChildrenCourseType01]


ALTER TABLE [dbo].[RaceResultByChildrenCourseType01] ADD  CONSTRAINT [PK_RaceResultByChildrenCourseType01] PRIMARY KEY NONCLUSTERED 
(
	[RaceID] DESC,
	[KettoNum] ASC,
	[CourseTypeCD] ASC
)WITH (PAD_INDEX = ON, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 70) ON [PRIMARY]


CREATE CLUSTERED INDEX [ClusteredIndex_on_PS_Date2_636027994661326441] ON [dbo].[RaceResultByChildrenCourseType01]
(
	[RaceDate]
)WITH (SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF) ON [PS_Date2]([RaceDate])


DROP INDEX [ClusteredIndex_on_PS_Date2_636027994661326441] ON [dbo].[RaceResultByChildrenCourseType01]








CREATE NONCLUSTERED INDEX [IX_RaceResultByChildrenCourseType01_RaceDate] ON [dbo].[RaceResultByChildrenCourseType01]
(
	[RaceDate] DESC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = ON, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 70) ON [PS_Date2]([RaceDate])






COMMIT TRANSACTION



